<!DOCTYPE html>
<html  dir="ltr" lang="en" data-theme="dark"><head>
    <title> Jorge Raze | Hello world! </title>

    
    <meta charset="utf-8"><meta name="generator" content="Hugo 0.84.0" /><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
    <meta name="description" content="Software Consultant, Cloud Architect and DevOps Practitioner">
    <meta name="google-site-verification" content="EeaO-Mo1Xr4Ps8bEAit7Skg30LW1x4UEUUZy7U7KdvY">
    
    
    
    
    <link rel="stylesheet"
        href="/css/main.min.f79a5de55310cc058fc81804d033ddb955937d778bd533d9ea05b1c798501013.css"
        integrity="sha256-95pd5VMQzAWPyBgE0DPduVWTfXeL1TPZ6gWxx5hQEBM="
        crossorigin="anonymous"
        type="text/css">
    
    
    <link rel="stylesheet"
        href="/css/markupHighlight.min.f798cbda9aaa38f89eb38be6414bd082cfd71a6780375cbf67b6d2fb2b96491e.css"
        integrity="sha256-95jL2pqqOPies4vmQUvQgs/XGmeAN1y/Z7bS&#43;yuWSR4="
        crossorigin="anonymous"
        type="text/css">
    
    <link rel="stylesheet" 
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" 
    integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA==" 
    crossorigin="anonymous" />

    
    <link rel="shortcut icon" href="/favicons/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png">

    <link rel="canonical" href="/post/hello/">

    
    
    
    
    <script type="text/javascript"
            src="/js/anatole-header.min.0c05c0a90d28c968a1cad4fb31abd0b8e1264e788ccefed022ae1d3b6f627514.js"
            integrity="sha256-DAXAqQ0oyWihytT7MavQuOEmTniMzv7QIq4dO29idRQ="
            crossorigin="anonymous"></script>


    
        
        
        <script type="text/javascript"
                src="/js/anatole-theme-switcher.min.7fd87181cdd7e8413aa64b6867bb32f3a8dc242e684fc7d5bbb9f600dbc2b6eb.js"
                integrity="sha256-f9hxgc3X6EE6pktoZ7sy86jcJC5oT8fVu7n2ANvCtus="
                crossorigin="anonymous"></script>
    
    <meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://raze.mx/images/site-feature-image.png"/>

<meta name="twitter:title" content="Hello world!"/>
<meta name="twitter:description" content="Hello internet 😄 it&rsquo;s being a long time since I stopped blogging, however, as I&rsquo;ve always said, writting is more a necesity than a luxury.
Today I&rsquo;m gonna talk about the tech stack I&rsquo;m using for blogging, In the past I&rsquo;ve used Ghost for my previous blog, and a long time ago I also used Joomla!, those are great tools and a lot of technical writters do use Ghost for writting articles, or blogging."/>


    

</head>
<body><div class="sidebar animated fadeInDown ">
    <div class="logo-title">
        <div class="title">
            <img src="/images/profile.png" alt="profile picture">
            <h3 title=""><a href="/">Jorge Raze</a></h3>
            <div class="description">
                <p>Software Consultant, Cloud Architect and DevOps Practitioner</p>
            </div>
        </div>
    </div>
    <ul class="social-links">
        
            <li>
                <a href="https://www.linkedin.com/in/razeonex/" rel="me" aria-label="Linkedin">
                    <i class="fab fa-linkedin fa-2x" aria-hidden="true"></i>
                </a>
            </li>
        
            <li>
                <a href="https://github.com/razeone" rel="me" aria-label="GitHub">
                    <i class="fab fa-github fa-2x" aria-hidden="true"></i>
                </a>
            </li>
        
            <li>
                <a href="mailto:hello@raze.mx" rel="me" aria-label="e-mail">
                    <i class="fas fa-envelope fa-2x" aria-hidden="true"></i>
                </a>
            </li>
        
            <li>
                <a href="https://www.flickr.com/photos/razeone/" rel="me" aria-label="Flickr">
                    <i class="fab fa-flickr fa-2x" aria-hidden="true"></i>
                </a>
            </li>
        
    </ul>
    <div class="footer">
        <div class="by_farbox">&copy;  Jorge Raze 2021 </div>
    </div>
</div>
<div class="main">
    <div class="page-top  animated fadeInDown ">
    <a role="button" class="navbar-burger" data-target="navMenu" aria-label="menu" aria-expanded="false">
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
    </a>
    <ul class="nav" id="navMenu">
        
        
            
            <li><a 
                   href="/"
                        
                   title="">Home</a></li>
        
            
            <li><a 
                   href="/post/"
                        
                   title="">Posts</a></li>
        
            
            <li><a 
                   href="/about/"
                        
                   title="">About</a></li>
        
            
            <li><a 
                   href="/contact/"
                        
                   title="">Contact</a></li>
        
        
        
            <li class="theme-switch-item">
                <a class="theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
                </a>
            </li>
        
    </ul>
</div>

    <div class="autopagerize_page_element">
        <div class="content">
    <div class="post  animated fadeInDown ">
        <div class="post-content">
            
            <img class="post-thumbnail" src="/images/golang-gopher.jpg" alt="Thumbnail image">
            
            <div class="post-title">
                <h3>Hello world!</h3>
                
                    <div class="info">
                        <em class="fas fa-calendar-day"></em>
                        <span class="date"> Fri, Jan 29, 2021 
                                           </span>
                        <em class="fas fa-stopwatch"></em>
                        <span class="reading-time">5-minute read</span>
                    </div>
                
            </div>

            <p>Hello internet 😄 it&rsquo;s being a long time since I stopped blogging, however, as I&rsquo;ve always said, writting is more a necesity than a luxury.</p>
<p>Today I&rsquo;m gonna talk about the tech stack I&rsquo;m using for blogging, In the past I&rsquo;ve used <a href="https://ghost.org/">Ghost</a> for my previous blog, and a long time ago I also used <a href="https://www.joomla.org/">Joomla!</a>, those are great tools and a lot of technical writters do use Ghost for writting articles, or blogging. Also I remember there&rsquo;s <a href="%22https://github.com/jekyll/jekyll%22">Jekyll</a> and <a href="%22http://octopress.org/%22">Octopress</a> out there, but this time I&rsquo;ll stick to a command line, Markdown friendly golang tool.</p>
<p>Today I&rsquo;m using <a href="https://gohugo.io/">Hugo</a> backed by AWS <a href="https://aws.amazon.com/s3/">S3</a>/<a href="https://aws.amazon.com/es/cloudfront/">CloudFront</a>.</p>
<h2 id="my-new-stack-and-why">My new Stack and Why?</h2>
<p>NodeJS and PHP blogging platforms and CMS are great, however for hosting that kind of websites I have to spin up a container or a VM on AWS or any cloud platform, previously I had my platform hosted on <a href="https://www.linode.com/">Linode</a> using the cheapest VM that costs $5 USD/Month, but that&rsquo;s $60 USD yearly which is expensive just for showing my ideas on the internet, yeah it&rsquo;s expensive for me cause that&rsquo;s up to $1200 MXN a year plus other services.</p>
<p>So I started thinking on creating a serverless blogging platform backed by <a href="https://aws.amazon.com/lambda/">AWS Lambda</a> <a href="https://aws.amazon.com/es/api-gateway/">API Gateway</a> and <a href="https://aws.amazon.com/dynamodb/">DynamoDB</a>, but even if I fit on the free tier, I&rsquo;d need to write the CRUD for the posts model, and I&rsquo;m still on a risk of getting lots of request and I&rsquo;d end up paying lots of money for the API GW and also the pricing model for DynamoDB is risky since you have to provision read/write units and you still have to pay, even since it does exist the on-demand pricing model that can also become an endless hole. And since in my experience I&rsquo;ve seen a lot of people spending money on the cloud I&rsquo;m trying to minimize spending in every possible way.</p>
<h3 id="enter-the-s3">Enter the S3</h3>
<p>With S3 you can have website hosting, which according to the AWS' documentation:</p>
<blockquote>
<p>Q: How much will it cost to host my website?</p>
</blockquote>
<p>The total cost of hosting your personal website on AWS will vary depending on your usage. Typically, it will cost $1-3/month if you are outside the AWS Free Tier limits. If you are eligible for AWS Free Tier and within the limits, hosting your personal website will cost around $0.50/month. To see a breakdown of the services used and their associated costs, see Services Used and Costs.</p>
<p>Plus I don&rsquo;t have to manage/patch any server.</p>
<p>Downsides:</p>
<ul>
<li>For hosting a website on S3 <strong>you have to make your objects public</strong>, which is not always a best practice since you could potentially have something stored on your bucket that you don&rsquo;t want to share with the public</li>
<li><strong>No SSL</strong>: your objects can be accessed through SSL/TLS but the static website hosting is restricted to HTTP</li>
</ul>
<h3 id="solution-cloudfront">Solution: CloudFront</h3>
<p>If you publish your website using CloudFront, you can use an OAI to <a href="https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/private-content-restricting-access-to-s3.html">make your bucket&rsquo;s objects only visible to your Cloudfront distribution</a>, in that way you don&rsquo;t have any security hole, since with CloudFront you can use an alternate domain name and also use an SSL certificate created through ACM.</p>
<p>Now that I have my secure hosting platform, I need to generate a static website blogging platform.</p>
<h3 id="here-comes-hugo">Here comes Hugo</h3>
<p>According to Hugo&rsquo;s features documentation:</p>
<blockquote>
<p>Hugo boasts blistering speed, robust content management, and a powerful templating language making it a great fit for all kinds of static websites.</p>
</blockquote>
<p>In general:</p>
<ul>
<li><a href="%22https://github.com/bep/hugo-benchmark%22">Extremely fast</a> build times (&lt;1 ms per page)</li>
<li>Completely cross platform, with <a href="%22https://gohugo.io/getting-started/installing/%22">easy installation</a> on macOS, Linux, Windows, and more</li>
<li>Renders changes on the fly with <a href="%22https://gohugo.io/getting-started/usage/%22">LiveReload</a> as you develop</li>
<li><a href="%22https://gohugo.io/themes/%22">Powerful theming</a></li>
<li><a href="%22https://gohugo.io/hosting-and-deployment/%22">Host your site anywhere</a></li>
</ul>
<p>So it basically covers all I need, it&rsquo;s markdown based which makes it great for not writting HTML at all, it has code highlight features and it doesn&rsquo;t require an application server at all.</p>
<p>Now I need to get profficient on this tool, so going through the <a href="%22https://gohugo.io/getting-started/quick-start/%22">Quickstart</a> seems like a good start. After going through that Tutorial I have choosen the minimalistic <a href="%22https://themes.gohugo.io/anatole/%22">anatole theme</a> and configured it with my own information, I had to copy the Google Analytics code and created a new <a href="%22https://formspree.io/%22">Formspree</a> to have the contact form working, so I basically did:</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback"># Install hugo
brew install hugo
hugo new site static-blog
cd static-blog
git init
git submodule add https://github.com/lxndrblz/anatole.git themes/anatole
hugo new posts/hello.md
hugo server -D
</code></pre></div><p>The previous commands got me with a fully functional blog, now I need to set up all the stuff that the theme provides. Like enabling emojis ❤️, set up all the folders structure and also remove the unecessary example contents.</p>
<p>After that I need to deploy my website by:</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">hugo -D
# This will build the site and place it in the public folder
aws s3 sync public s3://my-secret-bucket/blog
</code></pre></div><p>After that I need to wait a little in order to get Cloudfront read from the S3 origin and my blog will be all set up 😃</p>
<p>So I&rsquo;m basically gonna start learning how to get the most of this amazing tool since it seems great at first sighty and of course I&rsquo;m going to document everything in here, so please standby 😁</p>
<h3 id="update">Update</h3>
<p>Please have a look to <a href="/post/hugo-cloudfront/">this new post</a> since the fully functional Hugo website is described right there.</p>
<p>Also please note that currently <a href="https://aws.amazon.com/lambda/pricing/#Lambda.40Edge_Pricing">there&rsquo;s no free tier for Lambda@Edge</a> so this new component increases the costs of this solution by:</p>
<blockquote>
<p>$0.60 per 1M requests</p>
</blockquote>
<p>Keep that in mind.</p>
<p>So the overall costs for this solution at the moment is: $1.10 USD each month, around $22.0 MXN.</p>
</div>
        <div class="post-footer">
            <div class="info">
                <span class="separator"><a class="category" href="/categories/first/">first</a><a class="category" href="/categories/general/">general</a></span>
                <span class="separator"><a class="tag" href="/tags/markdown/">markdown</a><a class="tag" href="/tags/static-website/">static website</a><a class="tag" href="/tags/hugo/">hugo</a><a class="tag" href="/tags/cloudfront/">cloudfront</a></span>
            </div>
        </div>

        <div id="fb_comments_container">
                    <h2>comments</h2>
                    <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "razes-blog" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
                </div>
    </div>


        </div>
    </div>
</div>

<script type="text/javascript"
        src="/js/medium-zoom.min.83cb1dd5fea8d42d87d1e601a07faa73089ad0ef9ccfe5daf6041289ebcc4e46.js"
        integrity="sha256-g8sd1f6o1C2H0eYBoH&#43;qcwia0O&#43;cz&#43;Xa9gQSievMTkY="
        crossorigin="anonymous"></script><link rel="stylesheet"
              href="https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/katex.min.css"
              integrity="sha384-t5CR&#43;zwDAROtph0PXGte6ia8heboACF9R5l/DiY&#43;WZ3P2lxNgvJkQk5n7GPvLMYw"
              crossorigin="anonymous"><script defer
                src="https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/katex.min.js"
                integrity="sha384-FaFLTlohFghEIZkw6VGwmf9ISTubWAVYW8tG8&#43;w2LAIftJEULZABrF9PPFv&#43;tVkH"
                crossorigin="anonymous"></script><script defer
                src="https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/contrib/auto-render.min.js"
                integrity="sha384-bHBqxz8fokvgoJ/sc17HODNxa42TlaEhB&#43;w8ZJXTc2nZf1VgEaFZeZvT4Mznfz0v"
                crossorigin="anonymous"
                onload="renderMathInElement(document.body);"></script></body>

</html>
